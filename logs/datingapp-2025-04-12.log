2025-04-12 17:59:12.183 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 17:59:12.239 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 10268 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 17:59:12.240 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 17:59:12.240 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 17:59:12.295 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 17:59:12.295 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 17:59:13.124 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 17:59:13.190 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 6 JPA repository interfaces.
2025-04-12 17:59:13.838 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 17:59:13.850 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 17:59:13.852 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 17:59:13.852 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 17:59:13.898 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 17:59:13.898 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1602 ms
2025-04-12 17:59:14.056 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 17:59:14.134 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 17:59:14.171 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 17:59:14.487 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 17:59:14.522 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 17:59:14.833 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7f6ddc5b
2025-04-12 17:59:14.839 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 17:59:14.918 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 17:59:16.017 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 17:59:16.113 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-04-12 17:59:16.113 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - ограничение "uk4ixsj6aqve5pxrbw2u0oyk8bb" в таблице "profiles" не существует, пропускается
2025-04-12 17:59:16.115 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-04-12 17:59:16.116 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - ограничение "uk6dotkott2kjsp8vw4d0m25fb7" в таблице "users" не существует, пропускается
2025-04-12 17:59:16.131 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 17:59:16.691 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 17:59:17.852 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 17:59:17.878 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 17:59:17.894 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 17:59:17.902 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 6.055 seconds (process running for 7.331)
2025-04-12 17:59:59.493 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 17:59:59.500 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 17:59:59.506 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 17:59:59.512 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 17:59:59.516 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 18:04:59.350 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 18:04:59.421 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 4792 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 18:04:59.421 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 18:04:59.422 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 18:04:59.540 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 18:04:59.540 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 18:05:00.987 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 18:05:01.093 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 88 ms. Found 6 JPA repository interfaces.
2025-04-12 18:05:02.125 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 18:05:02.145 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 18:05:02.148 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 18:05:02.148 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 18:05:02.220 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 18:05:02.220 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2678 ms
2025-04-12 18:05:02.558 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 18:05:02.686 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 18:05:02.757 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 18:05:03.269 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 18:05:03.351 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 18:05:03.728 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7a341da5
2025-04-12 18:05:03.731 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 18:05:03.834 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 18:05:05.852 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 18:05:06.683 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 18:05:07.417 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 18:05:09.239 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 18:05:09.294 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 18:05:09.324 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 18:05:09.337 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 10.472 seconds (process running for 11.84)
2025-04-12 18:05:21.535 INFO  [http-nio-8080-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 18:05:21.535 INFO  [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 18:05:21.540 INFO  [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-04-12 18:05:22.049 WARN  [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.tihonya.datingapp.dto.UserDto com.tihonya.datingapp.controller.UserController.createUser(com.tihonya.datingapp.dto.UserDto): [Field error in object 'userDto' on field 'password': rejected value [lll]; codes [Size.userDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.password,password]; arguments []; default message [password],2147483647,7]; default message [Пароль должен быть не менее 7 символов]] ]
2025-04-12 18:05:35.326 INFO  [http-nio-8080-exec-7] c.t.datingapp.aspects.LoggingAspect - [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto)
2025-04-12 18:05:35.344 INFO  [http-nio-8080-exec-7] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_users
2025-04-12 18:05:49.180 INFO  [http-nio-8080-exec-6] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles - ProfileDto com.tihonya.datingapp.controller.ProfileController.createProfile(ProfileDto)
2025-04-12 18:05:49.258 INFO  [http-nio-8080-exec-6] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 18:07:07.108 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 18:07:07.108 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 18:09:07.111 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 18:09:07.111 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 18:10:02.505 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 18:10:02.510 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 18:10:02.517 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 18:10:02.523 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 18:10:02.530 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 19:12:19.293 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 19:12:19.345 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 10252 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:12:19.346 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:12:19.347 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:12:19.418 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 19:12:19.418 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 19:12:20.379 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:12:20.457 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 6 JPA repository interfaces.
2025-04-12 19:12:21.235 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:12:21.252 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:12:21.254 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:12:21.254 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:12:21.311 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:12:21.312 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1892 ms
2025-04-12 19:12:21.511 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:12:21.587 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 19:12:21.625 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:12:21.936 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:12:21.967 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 19:12:22.280 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@112a95f4
2025-04-12 19:12:22.282 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 19:12:22.372 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:12:23.520 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:12:24.009 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:12:24.575 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 19:12:25.895 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 19:12:25.920 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 19:12:25.935 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 19:12:25.943 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 7.056 seconds (process running for 8.811)
2025-04-12 19:12:38.899 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 19:12:38.900 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 19:12:38.905 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-04-12 19:12:38.992 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 19:13:02.007 INFO  [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 19:13:03.294 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-12 19:13:03.301 INFO  [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 19:13:03.306 INFO  [tomcat-shutdown] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:13:03.312 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 19:13:03.313 INFO  [Thread-5] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-04-12 19:13:03.325 INFO  [Thread-5] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:13:03.331 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 19:13:03.335 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 19:13:03.490 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 10252 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:13:03.491 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:13:03.491 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:13:04.044 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:13:04.075 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2025-04-12 19:13:04.230 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:13:04.232 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:13:04.232 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:13:04.232 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:13:04.248 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:13:04.249 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 755 ms
2025-04-12 19:13:04.325 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:13:04.328 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:13:04.344 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:13:04.345 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-04-12 19:13:04.641 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@65b37ca3
2025-04-12 19:13:04.641 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-04-12 19:13:04.661 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:13:04.971 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:13:05.692 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:13:05.950 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'profileController' defined in file [C:\Users\hp\IdeaProjects\datingapp\target\classes\com\tihonya\datingapp\controller\ProfileController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'profileService' defined in file [C:\Users\hp\IdeaProjects\datingapp\target\classes\com\tihonya\datingapp\service\ProfileService.class]: Unsatisfied dependency expressed through constructor parameter 3: No qualifying bean of type 'com.tihonya.datingapp.mapper.ProfileMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-04-12 19:13:05.950 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:13:05.952 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-04-12 19:13:05.958 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-04-12 19:13:05.960 INFO  [restartedMain] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-04-12 19:13:05.969 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-12 19:13:06.043 ERROR [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 3 of constructor in com.tihonya.datingapp.service.ProfileService required a bean of type 'com.tihonya.datingapp.mapper.ProfileMapper' that could not be found.


Action:

Consider defining a bean of type 'com.tihonya.datingapp.mapper.ProfileMapper' in your configuration.

2025-04-12 19:13:07.582 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 10252 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:13:07.583 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:13:07.583 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:13:08.398 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:13:08.439 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 6 JPA repository interfaces.
2025-04-12 19:13:08.672 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:13:08.674 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:13:08.675 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:13:08.675 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:13:08.709 INFO  [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:13:08.710 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1123 ms
2025-04-12 19:13:08.827 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:13:08.831 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:13:08.854 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:13:08.856 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-04-12 19:13:08.939 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@7e6012d9
2025-04-12 19:13:08.941 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-04-12 19:13:08.956 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:13:09.321 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:13:10.062 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:13:10.972 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 19:13:11.000 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 19:13:11.006 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 19:13:11.015 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 3.502 seconds (process running for 53.883)
2025-04-12 19:13:11.019 INFO  [restartedMain] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-04-12 19:13:13.923 INFO  [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 19:13:13.923 INFO  [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 19:13:13.926 INFO  [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-04-12 19:13:13.931 INFO  [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 19:13:59.999 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [GET] /interests - List com.tihonya.datingapp.controller.InterestController.getAllInterests()
2025-04-12 19:14:04.545 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [POST] /interests - ResponseEntity com.tihonya.datingapp.controller.InterestController.createInterest(InterestDto)
2025-04-12 19:14:04.636 INFO  [http-nio-8080-exec-4] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_interests
2025-04-12 19:14:14.552 INFO  [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 19:14:24.325 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 19:14:24.326 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 19:14:29.502 INFO  [http-nio-8080-exec-6] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles/1/interests/1 - ProfileDto com.tihonya.datingapp.controller.ProfileController.addInterestToProfile(Long,Long)
2025-04-12 19:14:29.526 INFO  [http-nio-8080-exec-6] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 19:15:05.831 INFO  [pool-3-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 19:15:05.834 INFO  [pool-3-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 19:15:10.249 INFO  [pool-4-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 19:15:10.250 INFO  [pool-4-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 19:16:08.699 INFO  [http-nio-8080-exec-8] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles/1/interests/1 - ProfileDto com.tihonya.datingapp.controller.ProfileController.addInterestToProfile(Long,Long)
2025-04-12 19:16:08.709 INFO  [http-nio-8080-exec-8] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 19:16:09.143 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 3 deletions, 0 modifications)
2025-04-12 19:16:09.145 INFO  [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 19:16:09.147 INFO  [tomcat-shutdown] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:16:09.151 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 19:16:09.152 INFO  [Thread-7] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-04-12 19:16:09.155 INFO  [Thread-7] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:16:09.156 INFO  [Thread-7] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-04-12 19:16:09.160 INFO  [Thread-7] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-04-12 19:16:09.290 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 10252 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:16:09.290 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:16:09.290 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:16:09.956 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:16:09.998 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 6 JPA repository interfaces.
2025-04-12 19:16:10.255 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:16:10.257 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:16:10.258 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:16:10.258 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:16:10.284 INFO  [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:16:10.284 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 989 ms
2025-04-12 19:16:10.394 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:16:10.399 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:16:10.423 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:16:10.425 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-04-12 19:16:10.687 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@2516d931
2025-04-12 19:16:10.687 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-04-12 19:16:10.703 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:16:11.160 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:16:12.068 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:16:12.535 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'profileController' defined in file [C:\Users\hp\IdeaProjects\datingapp\target\classes\com\tihonya\datingapp\controller\ProfileController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.tihonya.datingapp.service.ProfileService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-04-12 19:16:12.536 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:16:12.537 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-04-12 19:16:12.542 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-04-12 19:16:12.543 INFO  [restartedMain] o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-04-12 19:16:12.556 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-12 19:16:12.577 ERROR [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.tihonya.datingapp.controller.ProfileController required a bean of type 'com.tihonya.datingapp.service.ProfileService' that could not be found.


Action:

Consider defining a bean of type 'com.tihonya.datingapp.service.ProfileService' in your configuration.

2025-04-12 19:16:25.117 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 19:16:25.194 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 11476 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:16:25.195 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:16:25.196 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:16:25.269 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 19:16:25.270 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 19:16:26.159 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:16:26.226 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 6 JPA repository interfaces.
2025-04-12 19:16:26.941 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:16:26.956 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:16:26.958 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:16:26.958 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:16:27.012 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:16:27.013 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1743 ms
2025-04-12 19:16:27.211 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:16:27.281 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 19:16:27.323 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:16:27.643 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:16:27.676 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 19:16:27.836 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@498cd86f
2025-04-12 19:16:27.838 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 19:16:27.939 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:16:29.109 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:16:29.589 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:16:30.145 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 19:16:31.468 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 19:16:31.491 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 19:16:31.505 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 19:16:31.516 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 6.828 seconds (process running for 8.28)
2025-04-12 19:16:37.225 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 19:16:37.226 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 19:16:37.227 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-12 19:16:37.256 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [GET] /interests - List com.tihonya.datingapp.controller.InterestController.getAllInterests()
2025-04-12 19:16:39.550 INFO  [http-nio-8080-exec-6] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 19:16:52.626 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles/1/interests/1 - ProfileDto com.tihonya.datingapp.controller.ProfileController.addInterestToProfile(Long,Long)
2025-04-12 19:16:52.662 INFO  [http-nio-8080-exec-4] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 19:17:03.444 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 19:17:03.448 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 19:17:03.457 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:17:03.462 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 19:17:03.470 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 19:18:19.804 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 19:18:19.885 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 1084 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:18:19.885 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:18:19.885 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:18:19.990 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 19:18:19.990 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 19:18:21.660 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:18:21.742 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 6 JPA repository interfaces.
2025-04-12 19:18:22.450 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:18:22.462 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:18:22.462 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:18:22.462 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:18:22.512 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:18:22.512 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2522 ms
2025-04-12 19:18:22.660 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:18:22.730 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 19:18:22.764 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:18:23.027 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:18:23.090 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 19:18:23.400 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38108725
2025-04-12 19:18:23.406 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 19:18:23.470 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:18:24.862 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:18:25.639 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:18:26.239 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 19:18:27.664 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 19:18:27.695 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 19:18:27.726 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 19:18:27.740 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 8.527 seconds (process running for 10.57)
2025-04-12 19:18:35.986 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 19:18:35.986 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 19:18:35.990 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-04-12 19:18:36.020 INFO  [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 19:20:25.950 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 19:20:25.950 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 19:20:52.740 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 19:20:52.744 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 19:20:52.748 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:20:52.751 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 19:20:52.755 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 19:20:59.991 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 19:21:00.056 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 8416 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:21:00.057 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:21:00.058 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:21:00.135 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 19:21:00.136 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 19:21:01.092 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:21:01.166 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66 ms. Found 6 JPA repository interfaces.
2025-04-12 19:21:01.810 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:21:01.820 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:21:01.822 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:21:01.822 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:21:01.869 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:21:01.870 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1732 ms
2025-04-12 19:21:02.024 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:21:02.080 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 19:21:02.116 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:21:02.368 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:21:02.403 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 19:21:02.684 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4cf304d6
2025-04-12 19:21:02.686 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 19:21:02.757 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:21:03.871 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:21:04.347 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:21:04.842 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 19:21:06.008 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 19:21:06.033 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 19:21:06.047 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 19:21:06.057 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 6.721 seconds (process running for 8.135)
2025-04-12 19:21:12.270 INFO  [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 19:21:12.270 INFO  [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 19:21:12.272 INFO  [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-12 19:21:12.301 INFO  [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 19:21:26.038 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [POST] /interests - ResponseEntity com.tihonya.datingapp.controller.InterestController.createInterest(InterestDto)
2025-04-12 19:21:26.098 INFO  [http-nio-8080-exec-2] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_interests
2025-04-12 19:21:33.182 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles/1/interests/2 - ProfileDto com.tihonya.datingapp.controller.ProfileController.addInterestToProfile(Long,Long)
2025-04-12 19:21:33.212 INFO  [http-nio-8080-exec-4] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 19:21:35.351 INFO  [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles/1/interests/2 - ProfileDto com.tihonya.datingapp.controller.ProfileController.addInterestToProfile(Long,Long)
2025-04-12 19:21:35.360 INFO  [http-nio-8080-exec-5] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 19:21:40.656 INFO  [http-nio-8080-exec-6] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles/1/interests/2 - ProfileDto com.tihonya.datingapp.controller.ProfileController.addInterestToProfile(Long,Long)
2025-04-12 19:21:40.668 INFO  [http-nio-8080-exec-6] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 19:22:32.309 INFO  [http-nio-8080-exec-7] c.t.datingapp.aspects.LoggingAspect - [DELETE] /interests/1 - ResponseEntity com.tihonya.datingapp.controller.InterestController.deleteInterest(Long)
2025-04-12 19:22:32.329 INFO  [http-nio-8080-exec-7] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_interests
2025-04-12 19:22:34.658 INFO  [http-nio-8080-exec-8] c.t.datingapp.aspects.LoggingAspect - [GET] /interests - List com.tihonya.datingapp.controller.InterestController.getAllInterests()
2025-04-12 19:22:37.556 INFO  [http-nio-8080-exec-9] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 19:22:47.390 INFO  [http-nio-8080-exec-10] c.t.datingapp.aspects.LoggingAspect - [DELETE] /users/1 - void com.tihonya.datingapp.controller.UserController.deleteUser(Long)
2025-04-12 19:22:47.473 INFO  [http-nio-8080-exec-10] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_users
2025-04-12 19:22:50.852 INFO  [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 19:22:54.083 INFO  [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 19:22:56.593 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [GET] /interests - List com.tihonya.datingapp.controller.InterestController.getAllInterests()
2025-04-12 19:23:04.600 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 19:23:04.600 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 19:23:04.698 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 19:23:04.709 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 19:23:04.722 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:23:04.729 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 19:23:04.735 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 19:23:32.684 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 19:23:32.746 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 9896 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:23:32.747 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:23:32.748 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:23:32.826 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 19:23:32.826 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 19:23:33.894 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:23:34.014 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 107 ms. Found 6 JPA repository interfaces.
2025-04-12 19:23:34.879 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:23:34.895 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:23:34.896 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:23:34.897 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:23:34.954 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:23:34.954 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2127 ms
2025-04-12 19:23:35.126 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:23:35.167 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 19:23:35.204 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:23:35.510 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:23:35.540 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 19:23:35.858 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38114932
2025-04-12 19:23:35.863 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 19:23:35.950 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:23:37.403 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:23:38.024 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:23:38.833 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 19:23:40.378 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 19:23:40.408 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 19:23:40.428 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 19:23:40.437 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 8.209 seconds (process running for 9.437)
2025-04-12 19:24:41.377 INFO  [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 19:24:41.378 INFO  [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 19:24:41.381 INFO  [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-12 19:24:41.785 INFO  [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto)
2025-04-12 19:24:41.802 INFO  [http-nio-8080-exec-3] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_users
2025-04-12 19:24:46.598 INFO  [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto)
2025-04-12 19:24:46.600 INFO  [http-nio-8080-exec-5] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_users
2025-04-12 19:24:46.672 WARN  [http-nio-8080-exec-5] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-04-12 19:24:46.672 ERROR [http-nio-8080-exec-5] o.h.e.jdbc.spi.SqlExceptionHelper - ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk6dotkott2kjsp8vw4d0m25fb7"
  Подробности: Ключ "(email)=(Lola@gmail.com)" уже существует.
2025-04-12 19:24:46.690 ERROR [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [ERROR] [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto): could not execute statement [ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk6dotkott2kjsp8vw4d0m25fb7"
  Подробности: Ключ "(email)=(Lola@gmail.com)" уже существует.] [insert into users (email,name,password,role) values (?,?,?,?)]; SQL [insert into users (email,name,password,role) values (?,?,?,?)]; constraint [null]
2025-04-12 19:24:46.710 WARN  [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk6dotkott2kjsp8vw4d0m25fb7"<EOL>  Подробности: Ключ "(email)=(Lola@gmail.com)" уже существует.] [insert into users (email,name,password,role) values (?,?,?,?)]; SQL [insert into users (email,name,password,role) values (?,?,?,?)]; constraint [null]]
2025-04-12 19:25:38.332 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 19:25:38.332 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 19:27:38.327 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 19:27:38.327 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 19:29:38.322 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 19:29:38.323 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 19:30:29.986 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 19:30:29.993 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 19:30:29.999 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:30:30.001 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 19:30:30.008 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 19:31:11.826 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 19:31:11.884 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 13180 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:31:11.885 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:31:11.886 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:31:11.961 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 19:31:11.961 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 19:31:12.802 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:31:12.867 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 6 JPA repository interfaces.
2025-04-12 19:31:13.491 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:31:13.506 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:31:13.507 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:31:13.508 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:31:13.555 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:31:13.556 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1594 ms
2025-04-12 19:31:13.715 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:31:13.771 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 19:31:13.801 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:31:14.047 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:31:14.076 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 19:31:14.354 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22117ce3
2025-04-12 19:31:14.356 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 19:31:14.422 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:31:15.536 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:31:15.998 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:31:16.467 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 19:31:17.871 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 19:31:17.896 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 19:31:17.913 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 19:31:17.923 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 6.441 seconds (process running for 7.573)
2025-04-12 19:31:29.836 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 19:31:29.837 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 19:31:29.841 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-04-12 19:31:29.914 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 19:31:39.883 INFO  [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles - ProfileDto com.tihonya.datingapp.controller.ProfileController.createProfile(ProfileDto)
2025-04-12 19:31:39.902 INFO  [http-nio-8080-exec-3] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 19:31:44.664 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles - ProfileDto com.tihonya.datingapp.controller.ProfileController.createProfile(ProfileDto)
2025-04-12 19:31:44.674 INFO  [http-nio-8080-exec-4] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 19:31:44.689 WARN  [http-nio-8080-exec-4] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-04-12 19:31:44.689 ERROR [http-nio-8080-exec-4] o.h.e.jdbc.spi.SqlExceptionHelper - ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk4ixsj6aqve5pxrbw2u0oyk8bb"
  Подробности: Ключ "(user_id)=(2)" уже существует.
2025-04-12 19:31:44.709 ERROR [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [ERROR] [POST] /profiles - ProfileDto com.tihonya.datingapp.controller.ProfileController.createProfile(ProfileDto): could not execute statement [ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk4ixsj6aqve5pxrbw2u0oyk8bb"
  Подробности: Ключ "(user_id)=(2)" уже существует.] [insert into profiles (age,bio,city,name,user_id) values (?,?,?,?,?)]; SQL [insert into profiles (age,bio,city,name,user_id) values (?,?,?,?,?)]; constraint [null]
2025-04-12 19:31:44.727 WARN  [http-nio-8080-exec-4] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk4ixsj6aqve5pxrbw2u0oyk8bb"<EOL>  Подробности: Ключ "(user_id)=(2)" уже существует.] [insert into profiles (age,bio,city,name,user_id) values (?,?,?,?,?)]; SQL [insert into profiles (age,bio,city,name,user_id) values (?,?,?,?,?)]; constraint [null]]
2025-04-12 19:32:00.982 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 19:32:00.986 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 19:32:00.994 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:32:00.998 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 19:32:01.006 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 19:39:22.108 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 19:39:22.189 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 12508 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:39:22.190 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:39:22.191 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:39:22.290 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 19:39:22.291 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 19:39:23.452 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:39:23.781 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 309 ms. Found 6 JPA repository interfaces.
2025-04-12 19:39:24.612 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:39:24.631 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:39:24.633 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:39:24.633 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:39:24.699 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:39:24.700 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2409 ms
2025-04-12 19:39:24.908 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:39:24.961 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 19:39:24.990 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:39:25.243 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:39:25.290 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 19:39:25.595 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7a327e08
2025-04-12 19:39:25.598 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 19:39:25.668 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:39:26.834 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:39:27.288 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:39:27.767 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 19:39:28.948 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 19:39:28.973 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 19:39:28.987 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 19:39:28.997 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 7.431 seconds (process running for 8.649)
2025-04-12 19:39:36.038 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 19:39:36.039 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 19:39:36.040 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-12 19:39:36.120 INFO  [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 19:39:42.180 INFO  [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto)
2025-04-12 19:39:42.230 ERROR [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [ERROR] [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto): Этот email уже занят.
2025-04-12 19:39:42.251 WARN  [http-nio-8080-exec-3] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: Этот email уже занят.]
2025-04-12 19:39:46.619 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 19:39:46.630 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 19:39:46.637 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:39:46.646 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 19:39:46.655 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 19:39:59.142 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 19:39:59.200 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 7692 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:39:59.200 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:39:59.201 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:39:59.275 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 19:39:59.276 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 19:40:00.140 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:40:00.213 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66 ms. Found 6 JPA repository interfaces.
2025-04-12 19:40:00.866 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:40:00.878 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:40:00.880 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:40:00.880 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:40:00.931 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:40:00.931 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1655 ms
2025-04-12 19:40:01.085 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:40:01.153 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 19:40:01.184 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:40:01.463 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:40:01.489 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 19:40:01.628 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2aeffdc5
2025-04-12 19:40:01.642 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 19:40:01.726 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:40:02.779 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:40:03.281 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:40:03.774 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 19:40:04.895 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 19:40:04.925 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 19:40:04.940 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 19:40:04.952 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 6.188 seconds (process running for 7.235)
2025-04-12 19:40:09.085 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 19:40:09.085 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 19:40:09.087 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-12 19:40:09.254 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto)
2025-04-12 19:40:09.376 ERROR [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [ERROR] [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto): Этот email уже занят.
2025-04-12 19:40:09.410 WARN  [http-nio-8080-exec-2] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: Этот email уже занят.]
2025-04-12 19:40:49.100 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 19:40:49.117 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 19:40:49.132 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:40:49.140 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 19:40:49.148 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 19:45:59.164 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 19:45:59.235 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 6908 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 19:45:59.236 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 19:45:59.237 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 19:45:59.330 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 19:45:59.330 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 19:46:00.806 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 19:46:00.886 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 6 JPA repository interfaces.
2025-04-12 19:46:01.851 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 19:46:01.868 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 19:46:01.871 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 19:46:01.872 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 19:46:01.936 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 19:46:01.936 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2605 ms
2025-04-12 19:46:02.151 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 19:46:02.196 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 19:46:02.238 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 19:46:02.492 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 19:46:02.538 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 19:46:02.735 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@388f1af8
2025-04-12 19:46:02.737 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 19:46:02.797 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 19:46:03.892 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 19:46:04.346 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:46:04.857 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 19:46:06.050 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 19:46:06.077 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 19:46:06.091 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 19:46:06.103 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 7.42 seconds (process running for 8.777)
2025-04-12 19:46:11.349 INFO  [http-nio-8080-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 19:46:11.349 INFO  [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 19:46:11.351 INFO  [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-12 19:46:11.501 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles - ProfileDto com.tihonya.datingapp.controller.ProfileController.createProfile(ProfileDto)
2025-04-12 19:46:11.653 ERROR [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [ERROR] [POST] /profiles - ProfileDto com.tihonya.datingapp.controller.ProfileController.createProfile(ProfileDto): Профиль для этого пользователя уже существует.
2025-04-12 19:46:11.689 WARN  [http-nio-8080-exec-4] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Профиль для этого пользователя уже существует.]
2025-04-12 19:48:04.666 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 19:48:04.666 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 19:48:26.526 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 19:48:26.536 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 19:48:26.536 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 19:48:26.546 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 19:48:26.546 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 20:15:29.740 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 20:15:29.820 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 12016 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 20:15:29.821 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 20:15:29.821 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 20:15:29.897 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 20:15:29.897 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 20:15:30.960 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 20:15:31.032 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 6 JPA repository interfaces.
2025-04-12 20:15:32.103 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 20:15:32.121 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 20:15:32.122 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 20:15:32.122 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 20:15:32.178 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 20:15:32.178 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2280 ms
2025-04-12 20:15:32.386 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 20:15:32.450 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 20:15:32.490 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 20:15:32.809 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 20:15:32.842 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 20:15:33.127 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@a793406
2025-04-12 20:15:33.132 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 20:15:33.236 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 20:15:34.302 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 20:15:34.776 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:15:35.253 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 20:15:41.513 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 20:15:41.537 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 20:15:41.558 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 20:15:41.567 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 12.248 seconds (process running for 13.915)
2025-04-12 20:15:45.402 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 20:15:45.407 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 20:15:45.407 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-04-12 20:15:45.696 INFO  [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto)
2025-04-12 20:15:45.848 ERROR [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [ERROR] [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto): Этот email уже занят.
2025-04-12 20:15:45.901 WARN  [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Этот email уже занят.]
2025-04-12 20:15:52.887 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 20:15:52.891 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 20:15:52.895 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:15:52.899 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 20:15:52.903 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 20:37:50.546 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 20:37:50.615 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 2940 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 20:37:50.616 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 20:37:50.617 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 20:37:50.703 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 20:37:50.703 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 20:37:51.786 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 20:37:51.866 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 6 JPA repository interfaces.
2025-04-12 20:37:52.616 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 20:37:52.632 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 20:37:52.633 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 20:37:52.634 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 20:37:52.684 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 20:37:52.684 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1981 ms
2025-04-12 20:37:52.875 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 20:37:52.956 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 20:37:53.000 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 20:37:53.340 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 20:37:53.373 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 20:37:53.595 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5ebc2957
2025-04-12 20:37:53.596 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 20:37:53.683 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 20:37:54.936 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 20:37:55.023 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists users 
       add column username varchar(255) not null" via JDBC [ОШИБКА: столбец "username" отношения "users" содержит значения NULL]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists users 
       add column username varchar(255) not null" via JDBC [ОШИБКА: столбец "username" отношения "users" содержит значения NULL]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tihonya.datingapp.DatingAppApplication.main(DatingAppApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "username" отношения "users" содержит значения NULL
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-04-12 20:37:55.042 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-04-12 20:37:55.042 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - ограничение "ukr43af9ap4edm43mmtq01oddj6" в таблице "users" не существует, пропускается
2025-04-12 20:37:55.706 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:37:56.519 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 20:37:58.426 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 20:37:58.480 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 20:37:58.506 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 20:37:58.521 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 8.41 seconds (process running for 9.714)
2025-04-12 20:38:21.785 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 20:38:21.785 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 20:38:21.787 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-12 20:38:21.827 INFO  [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 20:38:21.905 WARN  [http-nio-8080-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 42703
2025-04-12 20:38:21.905 ERROR [http-nio-8080-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper - ОШИБКА: столбец u1_0.username не существует
  Позиция: 51
2025-04-12 20:38:21.908 ERROR [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [ERROR] [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers(): JDBC exception executing SQL [select u1_0.id,u1_0.email,u1_0.password,u1_0.role,u1_0.username from users u1_0] [ОШИБКА: столбец u1_0.username не существует
  Позиция: 51] [n/a]; SQL [n/a]
2025-04-12 20:38:21.980 WARN  [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.email,u1_0.password,u1_0.role,u1_0.username from users u1_0] [ОШИБКА: столбец u1_0.username не существует<EOL>  Позиция: 51] [n/a]; SQL [n/a]]
2025-04-12 20:38:31.747 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 20:38:31.759 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 20:38:31.767 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:38:31.777 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 20:38:31.791 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 20:39:02.366 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 20:39:02.426 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 12808 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 20:39:02.426 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 20:39:02.426 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 20:39:02.507 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 20:39:02.507 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 20:39:03.389 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 20:39:03.455 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 6 JPA repository interfaces.
2025-04-12 20:39:04.107 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 20:39:04.121 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 20:39:04.122 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 20:39:04.122 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 20:39:04.207 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 20:39:04.207 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1700 ms
2025-04-12 20:39:04.377 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 20:39:04.417 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 20:39:04.457 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 20:39:04.711 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 20:39:04.746 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 20:39:04.897 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ed691a9
2025-04-12 20:39:04.897 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 20:39:04.970 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 20:39:06.026 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 20:39:06.137 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-04-12 20:39:06.137 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - ограничение "uk4ixsj6aqve5pxrbw2u0oyk8bb" в таблице "profiles" не существует, пропускается
2025-04-12 20:39:06.149 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-04-12 20:39:06.149 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - ограничение "uk6dotkott2kjsp8vw4d0m25fb7" в таблице "users" не существует, пропускается
2025-04-12 20:39:06.149 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-04-12 20:39:06.149 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper - ограничение "ukr43af9ap4edm43mmtq01oddj6" в таблице "users" не существует, пропускается
2025-04-12 20:39:06.181 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:39:06.688 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 20:39:07.886 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 20:39:07.907 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 20:39:07.927 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 20:39:07.939 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 6.009 seconds (process running for 7.113)
2025-04-12 20:39:42.110 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 20:39:42.110 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 20:39:42.118 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-04-12 20:39:42.190 INFO  [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 20:39:46.339 WARN  [http-nio-8080-exec-3] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.tihonya.datingapp.dto.UserDto com.tihonya.datingapp.controller.UserController.createUser(com.tihonya.datingapp.dto.UserDto): [Field error in object 'userDto' on field 'username': rejected value [null]; codes [NotBlank.userDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.username,username]; arguments []; default message [username]]; default message [Логин не может быть пустым]] ]
2025-04-12 20:39:57.911 INFO  [http-nio-8080-exec-6] c.t.datingapp.aspects.LoggingAspect - [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto)
2025-04-12 20:39:57.930 INFO  [http-nio-8080-exec-6] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_users
2025-04-12 20:40:05.558 INFO  [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto)
2025-04-12 20:40:05.561 INFO  [http-nio-8080-exec-5] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_users
2025-04-12 20:40:05.585 WARN  [http-nio-8080-exec-5] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-04-12 20:40:05.585 ERROR [http-nio-8080-exec-5] o.h.e.jdbc.spi.SqlExceptionHelper - ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "ukr43af9ap4edm43mmtq01oddj6"
  Подробности: Ключ "(username)=(Tixon)" уже существует.
2025-04-12 20:40:05.594 ERROR [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [ERROR] [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto): could not execute statement [ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "ukr43af9ap4edm43mmtq01oddj6"
  Подробности: Ключ "(username)=(Tixon)" уже существует.] [insert into users (email,password,role,username) values (?,?,?,?)]; SQL [insert into users (email,password,role,username) values (?,?,?,?)]; constraint [null]
2025-04-12 20:40:05.595 WARN  [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "ukr43af9ap4edm43mmtq01oddj6"<EOL>  Подробности: Ключ "(username)=(Tixon)" уже существует.] [insert into users (email,password,role,username) values (?,?,?,?)]; SQL [insert into users (email,password,role,username) values (?,?,?,?)]; constraint [null]]
2025-04-12 20:40:26.092 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 20:40:26.098 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 20:40:26.102 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:40:26.102 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 20:40:26.110 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 20:42:10.670 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 20:42:10.741 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 9224 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 20:42:10.742 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 20:42:10.744 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 20:42:10.819 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 20:42:10.819 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 20:42:11.699 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 20:42:11.770 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 63 ms. Found 6 JPA repository interfaces.
2025-04-12 20:42:12.405 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 20:42:12.418 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 20:42:12.419 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 20:42:12.420 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 20:42:12.460 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 20:42:12.460 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1641 ms
2025-04-12 20:42:12.600 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 20:42:12.670 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 20:42:12.700 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 20:42:12.961 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 20:42:12.999 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 20:42:13.165 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@19ba3366
2025-04-12 20:42:13.165 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 20:42:13.244 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 20:42:14.298 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 20:42:14.759 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:42:15.260 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 20:42:16.393 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 20:42:16.420 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 20:42:16.433 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 20:42:16.440 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 6.199 seconds (process running for 7.424)
2025-04-12 20:42:23.330 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 20:42:23.330 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 20:42:23.336 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-04-12 20:42:23.509 INFO  [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto)
2025-04-12 20:42:23.601 ERROR [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [ERROR] [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto): Этот Логин уже занят.
2025-04-12 20:42:23.639 WARN  [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Этот Логин уже занят.]
2025-04-12 20:42:55.223 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [POST] /users - UserDto com.tihonya.datingapp.controller.UserController.createUser(UserDto)
2025-04-12 20:42:55.235 INFO  [http-nio-8080-exec-4] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_users
2025-04-12 20:43:11.739 WARN  [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public com.tihonya.datingapp.dto.UserDto com.tihonya.datingapp.controller.UserController.updateUser(java.lang.Long,com.tihonya.datingapp.dto.UserDto) with 2 errors: [Field error in object 'userDto' on field 'username': rejected value [null]; codes [NotBlank.userDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.username,username]; arguments []; default message [username]]; default message [Логин не может быть пустым]] [Field error in object 'userDto' on field 'password': rejected value [ejgkef]; codes [Size.userDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.password,password]; arguments []; default message [password],2147483647,7]; default message [Пароль должен быть не менее 7 символов]] ]
2025-04-12 20:43:27.188 INFO  [http-nio-8080-exec-8] c.t.datingapp.aspects.LoggingAspect - [PUT] /users/3 - UserDto com.tihonya.datingapp.controller.UserController.updateUser(Long,UserDto)
2025-04-12 20:43:27.240 INFO  [http-nio-8080-exec-8] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_users
2025-04-12 20:43:27.277 WARN  [http-nio-8080-exec-8] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-04-12 20:43:27.278 ERROR [http-nio-8080-exec-8] o.h.e.jdbc.spi.SqlExceptionHelper - ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "ukr43af9ap4edm43mmtq01oddj6"
  Подробности: Ключ "(username)=(Tixon)" уже существует.
2025-04-12 20:43:27.288 ERROR [http-nio-8080-exec-8] c.t.datingapp.aspects.LoggingAspect - [ERROR] [PUT] /users/3 - UserDto com.tihonya.datingapp.controller.UserController.updateUser(Long,UserDto): could not execute statement [ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "ukr43af9ap4edm43mmtq01oddj6"
  Подробности: Ключ "(username)=(Tixon)" уже существует.] [update users set email=?,password=?,role=?,username=? where id=?]; SQL [update users set email=?,password=?,role=?,username=? where id=?]; constraint [null]
2025-04-12 20:43:27.291 WARN  [http-nio-8080-exec-8] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "ukr43af9ap4edm43mmtq01oddj6"<EOL>  Подробности: Ключ "(username)=(Tixon)" уже существует.] [update users set email=?,password=?,role=?,username=? where id=?]; SQL [update users set email=?,password=?,role=?,username=? where id=?]; constraint [null]]
2025-04-12 20:44:14.998 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 20:44:14.998 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 20:45:52.727 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 20:45:52.733 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 20:45:52.737 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:45:52.741 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 20:45:52.745 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 20:45:59.604 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 20:45:59.668 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 8616 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 20:45:59.668 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 20:45:59.669 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 20:45:59.737 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 20:45:59.737 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 20:46:00.603 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 20:46:00.682 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 6 JPA repository interfaces.
2025-04-12 20:46:01.333 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 20:46:01.346 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 20:46:01.347 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 20:46:01.348 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 20:46:01.400 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 20:46:01.401 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1663 ms
2025-04-12 20:46:01.573 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 20:46:01.656 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 20:46:01.699 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 20:46:01.992 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 20:46:02.022 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 20:46:02.182 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1e8e09a7
2025-04-12 20:46:02.184 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 20:46:02.290 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 20:46:03.452 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 20:46:03.922 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:46:04.416 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 20:46:05.614 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 20:46:05.636 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 20:46:05.652 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 20:46:05.663 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 6.421 seconds (process running for 7.673)
2025-04-12 20:46:12.109 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 20:46:12.109 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 20:46:12.111 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-12 20:46:12.310 INFO  [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [PUT] /users/3 - UserDto com.tihonya.datingapp.controller.UserController.updateUser(Long,UserDto)
2025-04-12 20:46:12.471 ERROR [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [ERROR] [PUT] /users/3 - UserDto com.tihonya.datingapp.controller.UserController.updateUser(Long,UserDto): Этот Логин уже занят.
2025-04-12 20:46:12.501 WARN  [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Этот Логин уже занят.]
2025-04-12 20:46:16.980 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [PUT] /users/3 - UserDto com.tihonya.datingapp.controller.UserController.updateUser(Long,UserDto)
2025-04-12 20:46:16.999 INFO  [http-nio-8080-exec-4] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_users
2025-04-12 20:46:24.408 INFO  [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [PUT] /users/3 - UserDto com.tihonya.datingapp.controller.UserController.updateUser(Long,UserDto)
2025-04-12 20:46:24.417 ERROR [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [ERROR] [PUT] /users/3 - UserDto com.tihonya.datingapp.controller.UserController.updateUser(Long,UserDto): Этот email уже занят.
2025-04-12 20:46:24.419 WARN  [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Этот email уже занят.]
2025-04-12 20:46:30.017 INFO  [http-nio-8080-exec-7] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 20:46:41.006 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 20:46:41.015 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 20:46:41.027 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:46:41.034 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 20:46:41.042 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 20:48:07.393 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 20:48:07.488 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 13160 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 20:48:07.488 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 20:48:07.490 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 20:48:07.564 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 20:48:07.564 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 20:48:08.439 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 20:48:08.523 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 6 JPA repository interfaces.
2025-04-12 20:48:09.299 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 20:48:09.312 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 20:48:09.313 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 20:48:09.314 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 20:48:09.369 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 20:48:09.369 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1805 ms
2025-04-12 20:48:09.579 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 20:48:09.644 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 20:48:09.683 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 20:48:10.026 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 20:48:10.064 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 20:48:10.356 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2f895de1
2025-04-12 20:48:10.360 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 20:48:10.432 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 20:48:11.824 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 20:48:12.440 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:48:13.000 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 20:48:14.422 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 20:48:14.450 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 20:48:14.466 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 20:48:14.477 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 7.518 seconds (process running for 8.882)
2025-04-12 20:48:14.719 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 20:48:14.719 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 20:48:14.720 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-12 20:48:14.755 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 20:48:21.477 INFO  [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles - ProfileDto com.tihonya.datingapp.controller.ProfileController.createProfile(ProfileDto)
2025-04-12 20:48:21.557 INFO  [http-nio-8080-exec-3] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 20:48:23.479 INFO  [http-nio-8080-exec-6] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles - ProfileDto com.tihonya.datingapp.controller.ProfileController.createProfile(ProfileDto)
2025-04-12 20:48:23.503 ERROR [http-nio-8080-exec-6] c.t.datingapp.aspects.LoggingAspect - [ERROR] [POST] /profiles - ProfileDto com.tihonya.datingapp.controller.ProfileController.createProfile(ProfileDto): Профиль для этого пользователя уже существует.
2025-04-12 20:48:23.523 WARN  [http-nio-8080-exec-6] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Профиль для этого пользователя уже существует.]
2025-04-12 20:48:30.060 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles - ProfileDto com.tihonya.datingapp.controller.ProfileController.createProfile(ProfileDto)
2025-04-12 20:48:30.071 INFO  [http-nio-8080-exec-4] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 20:48:38.705 INFO  [http-nio-8080-exec-7] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 20:48:48.432 WARN  [http-nio-8080-exec-8] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public com.tihonya.datingapp.dto.ProfileDto com.tihonya.datingapp.controller.ProfileController.updateProfile(java.lang.Long,com.tihonya.datingapp.dto.ProfileDto) with 3 errors: [Field error in object 'profileDto' on field 'city': rejected value [null]; codes [NotBlank.profileDto.city,NotBlank.city,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [profileDto.city,city]; arguments []; default message [city]]; default message [Город обязателен]] [Field error in object 'profileDto' on field 'name': rejected value [null]; codes [NotBlank.profileDto.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [profileDto.name,name]; arguments []; default message [name]]; default message [Имя не может быть пустым]] [Field error in object 'profileDto' on field 'age': rejected value [0]; codes [Min.profileDto.age,Min.age,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [profileDto.age,age]; arguments []; default message [age],13]; default message [Минимальный возраст - 13 лет]] ]
2025-04-12 20:49:21.855 INFO  [http-nio-8080-exec-10] c.t.datingapp.aspects.LoggingAspect - [PUT] /profiles/1 - ProfileDto com.tihonya.datingapp.controller.ProfileController.updateProfile(Long,ProfileDto)
2025-04-12 20:49:21.859 INFO  [http-nio-8080-exec-10] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: profile_1
2025-04-12 20:49:26.946 INFO  [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [PUT] /profiles/1 - ProfileDto com.tihonya.datingapp.controller.ProfileController.updateProfile(Long,ProfileDto)
2025-04-12 20:49:26.950 INFO  [http-nio-8080-exec-1] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: profile_1
2025-04-12 20:49:29.370 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 20:49:31.900 INFO  [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 20:49:38.303 INFO  [http-nio-8080-exec-6] c.t.datingapp.aspects.LoggingAspect - [PUT] /profiles/1 - ProfileDto com.tihonya.datingapp.controller.ProfileController.updateProfile(Long,ProfileDto)
2025-04-12 20:49:38.308 INFO  [http-nio-8080-exec-6] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: profile_1
2025-04-12 20:49:41.352 INFO  [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 20:49:58.484 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [PUT] /profiles/1 - ProfileDto com.tihonya.datingapp.controller.ProfileController.updateProfile(Long,ProfileDto)
2025-04-12 20:49:58.487 INFO  [http-nio-8080-exec-4] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: profile_1
2025-04-12 20:50:12.703 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 20:50:12.704 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 20:50:13.135 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 20:50:13.139 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 20:50:13.144 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 20:50:13.146 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 20:50:13.151 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 21:04:54.382 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 21:04:54.466 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 9780 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 21:04:54.466 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 21:04:54.467 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 21:04:54.575 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 21:04:54.575 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 21:04:55.791 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 21:04:55.904 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 103 ms. Found 6 JPA repository interfaces.
2025-04-12 21:04:57.159 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 21:04:57.181 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 21:04:57.183 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 21:04:57.184 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 21:04:57.246 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 21:04:57.246 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2669 ms
2025-04-12 21:04:57.503 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 21:04:57.600 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 21:04:57.651 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 21:04:57.964 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 21:04:57.996 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 21:04:58.190 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58268703
2025-04-12 21:04:58.192 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 21:04:58.280 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 21:04:59.439 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 21:04:59.912 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 21:05:00.469 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 21:05:01.724 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 21:05:01.749 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 21:05:01.763 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 21:05:01.771 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 8.0 seconds (process running for 9.525)
2025-04-12 21:07:00.167 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 21:07:00.168 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 21:09:00.162 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 21:09:00.162 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 21:11:00.172 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 21:11:00.173 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 21:12:26.811 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 21:12:26.820 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 21:12:26.828 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 21:12:26.838 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 21:12:26.846 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 21:18:29.807 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 21:18:29.877 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 3744 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 21:18:29.877 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 21:18:29.878 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 21:18:29.949 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 21:18:29.950 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 21:18:31.246 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 21:19:12.120 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 21:19:12.188 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 11880 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 21:19:12.188 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 21:19:12.189 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 21:19:12.266 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 21:19:12.266 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 21:19:13.273 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 21:19:13.436 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 151 ms. Found 6 JPA repository interfaces.
2025-04-12 21:19:14.437 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 21:19:14.475 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 21:19:14.480 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 21:19:14.480 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 21:19:14.590 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 21:19:14.591 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2323 ms
2025-04-12 21:19:14.934 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 21:19:15.022 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 21:19:15.066 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 21:19:15.440 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 21:19:15.473 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 21:19:15.640 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2e84453c
2025-04-12 21:19:15.642 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 21:19:15.759 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 21:19:17.025 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 21:19:17.516 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 21:19:18.005 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 21:19:19.148 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 21:19:19.181 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 21:19:19.198 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 21:19:19.206 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 7.59 seconds (process running for 8.768)
2025-04-12 21:19:29.491 INFO  [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 21:19:29.491 INFO  [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 21:19:29.493 INFO  [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-12 21:19:29.534 INFO  [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [GET] /users - List com.tihonya.datingapp.controller.UserController.getAllUsers()
2025-04-12 21:19:40.651 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 21:19:55.123 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [GET] /interests - List com.tihonya.datingapp.controller.InterestController.getAllInterests()
2025-04-12 21:20:00.411 INFO  [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [POST] /interests - ResponseEntity com.tihonya.datingapp.controller.InterestController.createInterest(InterestDto)
2025-04-12 21:20:00.476 INFO  [http-nio-8080-exec-5] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_interests
2025-04-12 21:20:02.275 INFO  [http-nio-8080-exec-9] c.t.datingapp.aspects.LoggingAspect - [POST] /interests - ResponseEntity com.tihonya.datingapp.controller.InterestController.createInterest(InterestDto)
2025-04-12 21:20:02.278 INFO  [http-nio-8080-exec-9] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_interests
2025-04-12 21:20:05.927 INFO  [http-nio-8080-exec-6] c.t.datingapp.aspects.LoggingAspect - [GET] /interests - List com.tihonya.datingapp.controller.InterestController.getAllInterests()
2025-04-12 21:20:09.041 INFO  [http-nio-8080-exec-8] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 21:20:22.227 INFO  [http-nio-8080-exec-10] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles/1/interests/1 - ProfileDto com.tihonya.datingapp.controller.ProfileController.addInterestToProfile(Long,Long)
2025-04-12 21:20:22.257 INFO  [http-nio-8080-exec-10] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 21:20:28.153 INFO  [http-nio-8080-exec-7] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles/2/interests/1 - ProfileDto com.tihonya.datingapp.controller.ProfileController.addInterestToProfile(Long,Long)
2025-04-12 21:20:28.162 INFO  [http-nio-8080-exec-7] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 21:20:35.055 INFO  [http-nio-8080-exec-1] c.t.datingapp.aspects.LoggingAspect - [POST] /profiles/1/interests/2 - ProfileDto com.tihonya.datingapp.controller.ProfileController.addInterestToProfile(Long,Long)
2025-04-12 21:20:35.070 INFO  [http-nio-8080-exec-1] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_profiles
2025-04-12 21:20:37.933 INFO  [http-nio-8080-exec-3] c.t.datingapp.aspects.LoggingAspect - [GET] /interests - List com.tihonya.datingapp.controller.InterestController.getAllInterests()
2025-04-12 21:20:41.182 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 21:21:05.191 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 21:21:11.190 INFO  [http-nio-8080-exec-5] c.t.datingapp.aspects.LoggingAspect - [PUT] /interests/2 - ResponseEntity com.tihonya.datingapp.controller.InterestController.updateInterest(Long,InterestDto)
2025-04-12 21:21:11.197 INFO  [http-nio-8080-exec-5] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_interests
2025-04-12 21:21:13.193 INFO  [http-nio-8080-exec-9] c.t.datingapp.aspects.LoggingAspect - [GET] /interests - List com.tihonya.datingapp.controller.InterestController.getAllInterests()
2025-04-12 21:21:15.887 INFO  [http-nio-8080-exec-6] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 21:21:17.762 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 21:21:17.763 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 21:21:26.004 INFO  [http-nio-8080-exec-8] c.t.datingapp.aspects.LoggingAspect - [PUT] /interests/2 - ResponseEntity com.tihonya.datingapp.controller.InterestController.updateInterest(Long,InterestDto)
2025-04-12 21:21:26.011 INFO  [http-nio-8080-exec-8] c.t.datingapp.service.CacheService - 🗑️ Кэш очищен для ключа: all_interests
2025-04-12 21:21:28.189 INFO  [http-nio-8080-exec-10] c.t.datingapp.aspects.LoggingAspect - [GET] /profiles - List com.tihonya.datingapp.controller.ProfileController.getAllProfiles()
2025-04-12 21:21:37.406 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 21:21:37.410 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 21:21:37.413 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 21:21:37.416 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 21:21:37.418 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-12 22:13:56.082 INFO  [background-preinit] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-04-12 22:13:56.131 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Starting DatingAppApplication using Java 23.0.2 with PID 1796 (C:\Users\hp\IdeaProjects\datingapp\target\classes started by hp in C:\Users\hp\IdeaProjects\datingapp)
2025-04-12 22:13:56.132 DEBUG [restartedMain] c.t.datingapp.DatingAppApplication - Running with Spring Boot v3.4.2, Spring v6.2.2
2025-04-12 22:13:56.132 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-04-12 22:13:56.189 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-12 22:13:56.189 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-12 22:13:57.040 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-12 22:13:57.101 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 6 JPA repository interfaces.
2025-04-12 22:13:57.735 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-12 22:13:57.749 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-04-12 22:13:57.750 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-12 22:13:57.750 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-12 22:13:57.798 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-12 22:13:57.798 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1609 ms
2025-04-12 22:13:57.953 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-12 22:13:58.030 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-04-12 22:13:58.070 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-12 22:13:58.352 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-12 22:13:58.380 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-12 22:13:58.554 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5dd5d91e
2025-04-12 22:13:58.556 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-12 22:13:58.649 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-12 22:13:59.707 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-12 22:14:00.183 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 22:14:00.954 INFO  [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-12 22:14:02.059 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-12 22:14:02.081 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-04-12 22:14:02.097 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-12 22:14:02.104 INFO  [restartedMain] c.t.datingapp.DatingAppApplication - Started DatingAppApplication in 6.385 seconds (process running for 7.561)
2025-04-12 22:14:50.817 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-12 22:14:50.817 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-12 22:14:50.820 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-12 22:14:51.029 INFO  [http-nio-8080-exec-2] c.t.datingapp.aspects.LoggingAspect - [POST] /interests/bulk - ResponseEntity com.tihonya.datingapp.controller.InterestController.createInterestsBulk(List)
2025-04-12 22:15:00.816 INFO  [http-nio-8080-exec-4] c.t.datingapp.aspects.LoggingAspect - [GET] /interests - List com.tihonya.datingapp.controller.InterestController.getAllInterests()
2025-04-12 22:16:00.622 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 22:16:00.622 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 22:18:00.631 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 🧹 Очистка устаревших записей из кэша
2025-04-12 22:18:00.631 INFO  [pool-2-thread-1] c.t.datingapp.service.CacheService - 📌 Текущее состояние кэша:
2025-04-12 22:18:11.297 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-12 22:18:11.304 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-04-12 22:18:11.310 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-12 22:18:11.316 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-12 22:18:11.321 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
